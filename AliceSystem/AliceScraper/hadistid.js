//â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•//
//           ðŸš€ Alice Assistent - Bot WhatsApp Canggih           //
//â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•//
//
//   ðŸ¤– Powered By XyrooRynzz
//   Â© XyrooRynzz 2022 - 2026
//
//   ðŸ“Œ Source & Official Contact:
//   âž¤ Telegram : t.me/XyrooRynzz
//   âž¤ Gmail    : xyroorynzz@gmail.com
//   âž¤ Github   : github.com/xyroorynzz
//
//   ðŸ“¢ Telegram Channels:
//   âž¤ Utama : t.me/xyrooinformations
//   âž¤ Testi : t.me/xyrootestimoni
//
//â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€//
// ðŸ“– PANDUAN MEMBACA FILE README.MD
//â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€//
//
//   ðŸ“‚ File readme.md berisi panduan lengkap:
//   â€¢ Cara menjalankan script Alice Assistent
//   â€¢ Aturan & informasi penting
//   â€¢ File yang boleh/tidak boleh diubah
//   â€¢ Kontak & promo resmi dari XyrooRynzz
//
//   ðŸ’¡ Cara membacanya:
//   1. Buka panel / file manager kalian
//   2. Masuk ke direktori utama script
//   3. Klik file "readme.md"
//   4. Pilih "View" atau "Edit" untuk melihat isi panduan
//
//   ðŸ§  Disarankan membaca readme.md terlebih dahulu
//   sebelum menjalankan atau mengedit script.
//
//â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€//
//
//   âš¡ Fast â€¢ Secure â€¢ Automated â€¢ Stylish âš¡
//
//â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•//
//
// ðŸ“ˆâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” [ Â© XyrooRynzz ] â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”ðŸ“‰//

const axios = require('axios');
const cheerio = require('cheerio');

async function hadist(hadist) {
    const { data: leet } = await axios.get(`https://www.hadits.id/tentang/${hadist}`);
    const $ = cheerio.load(leet);

    let hasil = [];
    $('section').each((i, el) => {
        let judul = $(el).find('a').text().trim();
        let link = `https://www.hadits.id${$(el).find('a').attr('href')}`;
        let perawi = $(el).find('.perawi').text().trim();
        let kitab = $(el).find('cite').text().replace(perawi, '').trim();
        let teks = $(el).find('p').text().trim();

        hasil.push({ judul, link, perawi, kitab, teks });
    });

    return hasil;
}

async function detail(url) {
    const { data } = await axios.get(url);
    const $ = cheerio.load(data);

    const title = $('article h1').text().trim();
    const breadcrumb = [];
    $('div.breadcrumb-menu ol.breadcrumbs li').each((_, el) => {
        breadcrumb.push($(el).text().trim());
    });

    const haditsArab = $('article p.rtl').text().trim();
    const hadithNumber = $('header .hadits-about h2').text().match(/No. (\d+)/)[1];

    return { title, breadcrumb, haditsArab, hadithNumber };
}

module.exports = { hadist, detail };